<!-- PAGE HEADER ------------------------------- -->

<div class="header">

    <div class="banner-half"
    style="background-image: linear-gradient(-225deg, rgba(161,90,187,0.6) 0%, rgba(45,23,54,0.8) 50%),
       url(<%= @articles.find(@articles.pluck(:id).sample).image_url %>);">

        <div class="row">

          <!-- LEFT COL -->
          <div class="col-xs-3">

            <div class="top-box">
              <p></p>
            </div>

            <div class="middle-box">
              <p></p>
            </div>

            <div class="bottom-box">
              <p></p>
            </div>

          </div>
          <!-- col one end -->

          <!-- MAIN COL -->
          <div class="col-xs-9">

            <!-- ---- HEADER TITLES CARD ----- -->


              <!-- TOPIC HEADER -->
              <h2><span
                class="blocked">&nbsp Articles &nbsp
              </span></h2>
              <!-- EVENT HEADER -->
              <p></p>
              <p></p>
              <p>The collection of all the articles within Sift</p>

              <%= link_to "News Topics", topics_path, class: "btn btn-default" %>
              <%= link_to "News Events", events_path, class: "btn btn-default" %>

            <!-- ---- HEADER CARD END ----- -->

          </div>
          <!-- col two end -->

          <div class="col-0">
          </div>
          <!-- col three end -->

        </div>
        <!-- row end -->

  </div>
  <!-- banner-half end -->

</div>
<!-- header end -->
<!-- PAGE HEADER END------------------------------- -->



<!-- LIST  ------------------------------- -->

<div class="container">
  <div class="row">
    <div class='offset-xs-0 col-xs-12 offset-md-0 col-md-12'>


              <p>All news articles:</p>
              <%  @articles.each_with_index do | article, i | %>

              <br>

                <!-- ---- ARTICLE CARD HTML ----- -->

                  <div class="s-card-article">
                    <div class="s-image-article" style="background-image: linear-gradient(-225deg, rgba(161,90,187,0.6) 0%, rgba(45,23,54,0.8) 50%), url(<%= article.image_url %>);"><h3>#<%= (i + 1) %></h3>
                    </div>

                    <div class="s-card-publisher">
                      <h3 class="s-card-header-text"><%= article.publisher.name %></h3>
                      <img class="s-image-publisher" src= <%= article.publisher.image_url %> >
                    </div>
                    <div class="s-card-body s-card-text" >
                      <h3><%= article.title %></h3>
                      <br>
                      <p><%= article.description%></p>
                      <p><%= article.date_time_published%></p>
                      <p><% time_read = article.body_text.reading_time :format => :approx %></p>


                    <h4><%= time_read.include?('seconds') ? '1 minute' : time_read %> read</h4>

                      <% day_num = article.date_time_published.mday %>
                          <% case day_num
                             when 1 %><% date_sufix = 'st' %>
                          <% when 2 %><% date_sufix = 'nd' %>
                          <% when 3 %><% date_sufix = 'rd' %>
                          <% else %><% date_sufix = 'th' %>
                          <% end %>
                      <p><%= article.date_time_published.mday %><%= date_sufix %></p>
                      <p><%= article.date_time_published.strftime("%H") %>.00</p>
                      <% time_read = article.body_text.reading_time :format => :approx %>
                        <!-- Below: If time is only seconds display '1 minute' otherwise display actual time -->
                      <br>
                    <p><%= link_to "See Article", article_path(article) %></p>

                    </div>
                  </div>

                <!-- ---- ARTICLE CARD END----- -->





              <% end %>

    </div> <!-- col end -->
  </div> <!-- row end -->
</div> <!-- container end -->


